@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-dv-border;
  }

  body {
    @apply bg-dv-bg text-dv-text;
  }

  /* Refined scrollbar */
  ::-webkit-scrollbar { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { @apply bg-transparent; }
  ::-webkit-scrollbar-thumb { @apply bg-dv-elevated rounded-full hover:bg-dv-border; }

  ::selection {
    background: rgba(99, 102, 241, 0.3);
  }
}

@layer components {
  /* ── Glass panels ── */
  .glass-panel {
    @apply bg-dv-surface/70 backdrop-blur-xl border border-dv-border/40 rounded-2xl;
  }

  .glass-panel-solid {
    @apply bg-dv-surface border border-dv-border/50 rounded-2xl;
  }

  /* ── Gradient text ── */
  .gradient-text {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-dv-accent via-dv-purple to-dv-pink;
  }

  /* ── Buttons ── */
  .btn-primary {
    @apply px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-200
           bg-dv-accent text-white
           hover:bg-dv-accent-hover hover:shadow-glow-sm
           active:scale-[0.97]
           disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-secondary {
    @apply px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-200
           bg-dv-elevated border border-dv-border text-dv-text
           hover:bg-dv-surface hover:border-dv-text-muted
           active:scale-[0.97]
           disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-ghost {
    @apply px-4 py-2 rounded-lg font-medium text-sm transition-all duration-150
           text-dv-text-secondary hover:text-dv-text hover:bg-dv-elevated;
  }

  /* ── Input fields ── */
  .input-field {
    @apply w-full bg-dv-bg border border-dv-border rounded-xl px-4 py-2.5 text-sm
           text-dv-text placeholder:text-dv-text-muted
           focus:outline-none focus:ring-2 focus:ring-dv-accent/40 focus:border-dv-accent
           transition-all duration-150;
  }

  /* ── Cards ── */
  .card {
    @apply bg-dv-surface border border-dv-border/50 rounded-2xl p-5 transition-all duration-200;
  }

  .card-hover {
    @apply card hover:border-dv-border hover:shadow-card cursor-pointer;
  }

  /* ── Code styling ── */
  .code-line {
    @apply font-mono text-sm leading-6;
  }

  .code-line.highlighted {
    @apply bg-dv-accent/10 border-l-2 border-dv-accent;
  }

  .code-line-number {
    @apply w-12 inline-block text-dv-text-muted text-right pr-4 select-none text-xs;
  }

  /* ── Badge ── */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-accent {
    @apply badge bg-dv-accent/15 text-dv-accent-hover;
  }

  .badge-success {
    @apply badge bg-dv-success/15 text-dv-success;
  }

  .badge-warning {
    @apply badge bg-dv-warning/15 text-dv-warning;
  }

  .badge-error {
    @apply badge bg-dv-error/15 text-dv-error;
  }
}

@layer utilities {
  .animation-delay-150 { animation-delay: 150ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-500 { animation-delay: 500ms; }

  /* Syntax tokens */
  .token.comment    { @apply text-dv-text-muted; }
  .token.keyword    { @apply text-dv-purple; }
  .token.string     { @apply text-dv-success; }
  .token.function   { @apply text-dv-accent; }
  .token.number     { @apply text-dv-warning; }
  .token.operator   { @apply text-dv-pink; }
  .token.class-name { @apply text-dv-cyan; }

  /* Dot grid pattern */
  .dot-grid {
    background-image: radial-gradient(circle, rgba(99,102,241,0.07) 1px, transparent 1px);
    background-size: 24px 24px;
  }
}

